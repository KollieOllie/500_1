<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Studio</title>
    <!-- styles -->
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet" />
  </head>

  <body>
   Добрый день!

 

По ошибке 500 по ТОВ-ке при синхронизации с ГЕО.

 

Получение справочника Автомобили.  "GET" /v1​/refDev

 

Запрос: http://tov.api.geo.astelitgroup.com/v1/refDev

 

Ответ: 500 / {"name":"Internal Server Error","message":"An internal server error occurred.","code":0,"status":500}

 

Заголовки:

 

Ключ                         Значение

"Access-Control-Allow-Credentials" "true"

"Pragma"                     "no-cache"

"Set-Cookie"                       "PHPSESSID=b7e3m2qlvl1ua1qng9tge7etgd; path=/, advanced-frontend=b7e3m2qlvl1ua1qng9tge7etgd; path=/"

"Date"                             "Wed, 20 Jul 2022 11:09:31 GMT"

"Cache-Control"                    "no-store, no-cache, must-revalidate"

"Vary"                             "Accept"

"Content-Type"                     "application/json; charset=UTF-8"

"Connection"                       "keep-alive"

"X-Powered-By"                     "PHP/7.4.26"

"Server"                     "nginx/1.14.1"

"Transfer-Encoding"                "chunked"

"Expires"                    "Thu, 19 Nov 1981 08:52:00 GMT"

 

При пагинации страниц.

Запрос: http:// tov.api.geo.astelitgroup.com/v1/refDev?page=1&per-page=50

 

Ответ: 200 / [{"id":19306,"clntId":"АІ 9237 ВВ","clntDescription":"Не указано","clntModel":"T 4","group_id":88,"group":"Київхліб ТОВ","gps_device_id":null,"guidId":"2001687","countTgtVisited":0,"startBaseId":null,"route":[],"lat":null,"lon":null},{"id":19305,"clntId":"АС 6931 ВІ","clntDescription":"Не указано","clntModel":"308D","group_id":56,"group":null,"gps_device_id":null,"guidId":"2001310","countTgtVisited":0,"startBaseId":null,"route":[],"lat":null,"lon":null},{"id":19304,"clntId":"ВС 9503 СТ","clntDescription":"Контейнер","clntModel":"Sprinter 313 CDI","group_id":18,"group":null,"gps_device_id":null,"guidId":"2000679","countTgtVisited":0,"startBaseId":null,"route":[],"lat":null,"lon":null}

 

Заголовки:

 

Ключ                         Значение

"X-Pagination-Current-Page"        "1"

"Access-Control-Allow-Credentials" "true"

"Pragma"                     "no-cache"

"X-Pagination-Per-Page"            "50"

"Set-Cookie"                       "PHPSESSID=39b7t1bvgj242pbtp974jgodhb; path=/, advanced-frontend=39b7t1bvgj242pbtp974jgodhb; path=/"

"Date"                             "Wed, 20 Jul 2022 11:12:11 GMT"

"Cache-Control"                    "no-store, no-cache, must-revalidate"

"X-Pagination-Total-Count"         "410"

"Vary"                             "Accept"

"Content-Type"                     "application/json; charset=UTF-8"

"Link"                             "<http://tov.api.geo.astelitgroup.com/v1/ref-dev/index?page=1&per-page=50>; rel=self, <http://tov.api.geo.astelitgroup.com/v1/ref-dev/index?page=1&per-page=50>; rel=first, <http://tov.api.geo.astelitgroup.com/v1/ref-dev/index?page=9&per-page=50>; rel=last, <http://tov.api.geo.astelitgroup.com/v1/ref-dev/index?page=2&per-page=50>; rel=next"

"Connection"                       "keep-alive"

"X-Powered-By"                     "PHP/7.4.26"

"Server"                     "nginx/1.14.1"

"Access-Control-Allow-Methods"           "GET, POST, OPTIONS, PUT, DELETE, PATCH, HEAD"

"Access-Control-Allow-Headers"           "Origin, X-Requested-With, Content-Type,  Set-Cookie, Accept,Authorization"

"Transfer-Encoding"                "chunked"

"X-Pagination-Page-Count"          "9"

"Expires"                    "Thu, 19 Nov 1981 08:52:00 GMT"

 

Получает 9 страниц по 50 записей, всего 410 записей.

 

 

По странично падает на 6 странице при порции 50 шт.

 

Запрос: http:// tov.api.geo.astelitgroup.com/v1/refDev?page=6&per-page=50

 

Ответ:  500 / {"name":"Internal Server Error","message":"An internal server error occurred.","code":0,"status":500}

 

Заголовки:

 

Ключ                         Значение

"Access-Control-Allow-Credentials" "true"

"Pragma"                     "no-cache"

"Set-Cookie"                       "PHPSESSID=esok6nkpvd13att3huf1ku6e1c; path=/, advanced-frontend=esok6nkpvd13att3huf1ku6e1c; path=/"

"Date"                             "Wed, 20 Jul 2022 11:05:16 GMT"

"Cache-Control"                    "no-store, no-cache, must-revalidate"

"Vary"                             "Accept"

"Content-Type"                     "application/json; charset=UTF-8"

"Connection"                       "keep-alive"

"X-Powered-By"                     "PHP/7.4.26"

"Server"                     "nginx/1.14.1"

"Transfer-Encoding"                "chunked"

"Expires"                    "Thu, 19 Nov 1981 08:52:00 GMT"

   
   
  </body>
</html>
